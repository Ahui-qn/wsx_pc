(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91d82e48"],{"0d2c":function(e,t,s){},8994:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loadmen,expression:"loadmen",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"max-wid"},[s("div",{staticClass:"heading"},[e.whether?s("p",{on:{click:function(t){return e.reTurn()}}},[e._v("返回上一页")]):e._e(),s("p",{staticClass:"heading-users"},[e._v(e._s(e.setup))])]),s("div",{staticClass:"image-view-title"},[s("div",{staticClass:"image-list"},[e._v("店铺名称")]),s("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),s("div",{staticClass:"image-view-title"},[s("div",{staticClass:"image-list"},[e._v("店铺地址")]),s("el-input",{attrs:{type:"text",placeholder:"请输入店铺地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),s("div",{staticClass:"image-view-title"},[s("div",{staticClass:"image-list"},[e._v("店铺logo")]),s("div",[s("el-upload",{attrs:{action:e.action,"list-type":"picture-card",name:"file",accept:".jpg,.png,.webp,.jfif",limit:1,"on-remove":e.logoRemove,"on-success":e.logoSuccess,"on-preview":e.handlepreview,multiple:!1,"on-error":e.onErr,"before-upload":e.project,"file-list":e.logo}},[s("i",{staticClass:"el-icon-plus"})]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)]),s("div",{staticClass:"image-button"},[s("el-button",{attrs:{type:"success",size:"medium",loading:e.load,disabled:e.load},on:{click:function(t){return e.bTns(e.butn)}}},[e._v(e._s(e.butn))])],1)])},a=[],o=(s("96cf"),s("3b8d")),n=(s("7f7f"),console),l=(n.log,{data:function(){return{whether:!1,setup:"设置店铺信息",butn:"提交",load:!1,action:this.Urls.m().uploadres,loadmen:!1,id:"",name:"",address:"",logo:[],dialogImageUrl:"",dialogVisible:!1}},methods:{handlepreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},onErr:function(e){this.loadmen=!1,this.$message.error("上传失败,尝试重新上传")},project:function(e){this.loadmen=!0},logoRemove:function(e,t){this.logo=[]},logoSuccess:function(e,t,s){console.log(e),console.log(t),this.logo.push({url:e.data,uid:t.uid}),this.loadmen=!1},reTurn:function(){this.$router.push({name:"set-up"})},bTns:function(e){this.load=!0;var t={id:this.id,name:this.name,address:this.address,logo:JSON.stringify(this.logo)};"提交"==e?(console.log("提交"),this.purequest(t,e,this.Urls.m().uploadshop)):(console.log("修改"),this.purequest(t,e,this.Urls.m().modifyshop))},purequest:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,s,i){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new this.Request(i,this.$qs.stringify(t)).modepost();case 3:a=e.sent,200!=a.status?new this.mytitle(this.$message,"warning",a.data.msg).funtitle():(new this.mytitle(this.$message,"success",a.data.msg).funtitle(),localStorage.setItem("company",this.name),"提交"==s?this.$router.push({name:"index"}):this.$router.push({name:"set-up"})),this.load=!1,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.load=!1,new this.mytitle(this.$message,"error","服务器发生错误,请重试").funtitle();case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t,s,i){return e.apply(this,arguments)}return t}()},created:function(){var e=this.$route.params.data;console.log(e),void 0==e?(this.whether=!1,this.setup="设置店铺信息",this.butn="提交"):(this.whether=!0,this.setup="修改店铺信息",this.butn="提交修改",this.id=e._id,this.name=e.name,this.address=e.address,this.logo=e.logo)}}),r=l,c=(s("f16a"),s("2877")),u=Object(c["a"])(r,i,a,!1,null,"b34ccda0",null);t["default"]=u.exports},f16a:function(e,t,s){"use strict";s("0d2c")}}]);
//# sourceMappingURL=chunk-91d82e48.67de95e3.js.map
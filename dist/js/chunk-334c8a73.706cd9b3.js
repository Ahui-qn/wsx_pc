(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-334c8a73"],{"21ca":function(t,e,n){},a8c2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"ordering"},[n("div",{staticClass:"heading"},[t._v("桌号管理")]),n("div",{staticClass:"content-view"},[n("div",{staticClass:"button-view"},[n("el-button",{attrs:{type:"success",size:"medium"},on:{click:t.open}},[t._v("添加桌号")])],1),t.nodatas?n("div",[n("div",{staticClass:"tab-list"},t._l(t.tablist,(function(e,a){return n("span",{key:a},[t._v(t._s(e))])})),0),t._l(t.tabcont,(function(e,a){return n("div",{key:a,staticClass:"tab-table"},[n("div",[t._v(t._s(e.time))]),n("div",[t._v(t._s(e.table))]),n("div",[n("el-image",{staticClass:"elimg",attrs:{src:e.code,fit:"cover",lazy:!0,"preview-src-list":[e.code]}})],1)])})),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":!0,total:t.total,"current-page":t.currentnum},on:{"current-change":t.currentchange}})],2):t._e(),t.nodatas?t._e():n("div",{staticClass:"nodatas"},[t._v("还没有桌号")])]),n("div",{staticStyle:{height:"120px"}})])},s=[],i=(n("96cf"),n("3b8d")),r={data:function(){return{loading:!0,nodatas:!0,tablist:["创建时间","桌号","点餐二维码"],tabcont:[],total:0,pagenum:0,currentnum:1}},methods:{currentchange:function(t){this.pagenum=t-1},open:function(){var t=this;this.$prompt("请输入桌台号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[0-9]*$/,inputErrorMessage:"桌号格式不正确,应为数字类型"}).then((function(e){var n=e.value;console.log(n),t.add_table(n)})).catch((function(t){console.log(t)}))},add_table:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new this.Request(this.Urls.m().qrcode,this.$qs.stringify({table:e})).modepost();case 3:n=t.sent,200!=n.status?new this.mytitle(this.$message,"warning",n.data.msg).funtitle():(new this.mytitle(this.$message,"success",n.data.msg).funtitle(),this.currentnum=1,this.pagenum=0,this.getqrcode()),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),new this.mytitle(this.$message,"error","服务器发生错误,请重试").funtitle();case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getqrcode:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new this.Request(this.Urls.m().getqrcode+"?page="+this.pagenum).modeget();case 3:e=t.sent,this.nodatas=0!=e.data.data.tatal,this.tabcont=e.data.data.result,this.total=e.data.data.tatal,this.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),new this.mytitle(this.$message,"error","服务器发生错误,请重试").funtitle();case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getqrcode()}},c=r,o=(n("deb5"),n("2877")),u=Object(o["a"])(c,a,s,!1,null,"6827dde9",null);e["default"]=u.exports},deb5:function(t,e,n){"use strict";n("21ca")}}]);
//# sourceMappingURL=chunk-334c8a73.706cd9b3.js.map